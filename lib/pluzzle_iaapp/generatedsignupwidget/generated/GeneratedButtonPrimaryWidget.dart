import 'package:flutter/material.dart';
import 'package:flutterapp/pluzzle_iaapp/generatedsignupwidget/generated/GeneratedSignUpWidget2.dart';
import 'package:http/http.dart' as http;
import 'dart:convert';

/* Instance Button/Primary
    Autogenerated by FlutLab FTF Generator
  */

class GeneratedButtonPrimaryWidget extends StatefulWidget {
  String passwd;
  String email;
  String nome;
  GeneratedButtonPrimaryWidget({this.passwd, this.email, this.nome});

  @override
  State<GeneratedButtonPrimaryWidget> createState() {
    return GeneratedButtonPrimaryWidgetState();
  }
}

class GeneratedButtonPrimaryWidgetState
    extends State<GeneratedButtonPrimaryWidget> {
  @override
  Widget build(BuildContext context) {
    return OutlinedButton(
        style: OutlinedButton.styleFrom(
          side: BorderSide(width: 5.0, color: Color.fromARGB(0, 33, 149, 243)),
        ),
        onPressed: () {
          // https://docs.flutter.dev/cookbook/networking/send-data
          final response = http.post(
            Uri.parse('https://gfpuzzle-ia.herokuapp.com/ping'),
            headers: <String, String>{
              'Content-Type': 'application/json; charset=UTF-8',
            },
            body: jsonEncode(<String, String>{}),
          );

          // http.post(
          //   Uri.parse('https://gfpuzzle-ia.herokuapp.com/ping'),
          //   headers: <String, String>{
          //     'Content-Type': 'application/json; charset=UTF-8',
          //   },
          //   body: jsonEncode(<String, String>{
          //     'email': widget.email,
          //     'passwd': widget.passwd,
          //     'nome': widget.nome,
          //   }),
          // );
          // if (){
          //   throw Exception('BarException');
          // }

          print(response);
          print("click start");
          print(widget.passwd);
          print(widget.email);
          print(widget.nome);
          print("click end");
        },
        child:
            Stack(fit: StackFit.expand, alignment: Alignment.center, children: [
          ClipRRect(
            borderRadius: BorderRadius.circular(100.0),
            child: Container(
              color: Color.fromARGB(255, 137, 124, 172),
            ),
          ),
          Positioned(
            left: 141.0,
            top: 16.0,
            right: null,
            bottom: null,
            width: 63.0,
            height: 21.0,
            child: GeneratedSignUpWidget2(),
          ),
        ]));
  }
}
